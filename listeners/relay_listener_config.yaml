# =============================================================================
# Relay Listener Configuration - Comprehensive Documentation
# =============================================================================
#
# PROJECT HISTORY & LEARNING JOURNEY:
# ===================================
# 
# This configuration has evolved through multiple iterations, each teaching valuable
# lessons about configuration management, affiliate address tracking, and system design.
#
# TIMELINE OF DEVELOPMENT:
# - Originally used hardcoded address 0x2905d7e4d048d29954f81b02171dd313f457a4a4
# - This address was found in existing relay data but appears to be legacy
# - Updated to use 0x9c9aA90363630d4ab1D9dbF416cc3BBC8d3Ed502 for Base chain
# - This reflects the current affiliate address used by Relay protocol
#
# KEY LESSONS LEARNED:
# 1. Legacy addresses in existing data may not reflect current affiliate relationships
# 2. Different protocols may use different affiliate addresses on the same chain
# 3. Configuration files should be version controlled and documented
# 4. Affiliate address updates require careful validation and testing
# 5. Historical data analysis can reveal address migration patterns
#
# FAILED ATTEMPTS & WHAT WENT WRONG:
# ===================================
# 
# ATTEMPT 1: Using Legacy Addresses
# - Problem: Continued using 0x2905d7e4d048d29954f81b02171dd313f457a4a4
# - Issue: This address was found in existing data but appears to be legacy
# - Lesson: Historical data may contain outdated affiliate addresses
#
# ATTEMPT 2: Single Address for All Protocols
# - Problem: Tried to use same affiliate address for all protocols
# - Issue: Different protocols may have different affiliate relationships
# - Lesson: Each protocol may have unique affiliate address requirements
#
# ATTEMPT 3: No Address Validation
# - Problem: Updated addresses without validating they're actively receiving fees
# - Issue: New addresses may not be actively used by the protocol
# - Lesson: Validate affiliate addresses with real transaction data
#
# ATTEMPT 4: Configuration Without Documentation
# - Problem: Changed addresses without documenting the reasoning
# - Issue: Future developers couldn't understand why changes were made
# - Lesson: Document all configuration changes with context and reasoning
#
# WHAT THIS CONFIG IS ATTEMPTING:
# ===============================
# 
# PRIMARY GOAL:
# - Configure Relay listener for affiliate fee detection
# - Define RPC endpoints for Base chain (primary focus)
# - Set affiliate and claiming addresses for fee collection
# - Configure scanning parameters for optimal performance
#
# TECHNICAL OBJECTIVES:
# - Establish reliable RPC connection to Base chain
# - Configure affiliate address detection for Relay protocol
# - Set up claiming address for fee collection
# - Optimize scanning parameters for performance and reliability
#
# WHY RELAY SPECIFICALLY:
# =======================
# 
# PROTOCOL CHARACTERISTICS:
# - Relay is a cross-chain aggregation protocol
# - Important for understanding ShapeShift's cross-chain affiliate revenue
# - Base chain is primary focus due to recent deployment and activity
# - Different affiliate address than other protocols (0x9c9aA90363630d4ab1D9dbF416cc3BBC8d3Ed502)
#
# AFFILIATE FEE MODEL:
# - ShapeShift receives fees for cross-chain aggregation services
# - Fees are sent to specific affiliate addresses on each chain
# - Different chains may use different affiliate addresses
# - Fee amounts vary based on aggregation volume and protocol settings
#
# CURRENT STATUS & IMPLEMENTATION:
# ===============================
# 
# VERSION COMPARISON:
# - ready-v2: Database-based approach, working but complex
# - ready-v3: CSV-based approach with centralized config, most advanced
# - ready-v4: Database-based with comprehensive comments from v3
# - commented: This branch - comprehensive documentation of all approaches
#
# AFFILIATE ADDRESS CONFIGURATION:
# - Current: 0x9c9aA90363630d4ab1D9dbF416cc3BBC8d3Ed502 (Base chain)
# - Legacy: 0x2905d7e4d048d29954f81b02171dd313f457a4a4 (Found in historical data)
# - Status: Updated and validated with current protocol usage
#
# CHAIN CONFIGURATION:
# - Base chain (8453): Primary focus with Alchemy RPC
# - RPC URL: https://base-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}
# - Start block: Optimized for recent activity
# - Scanning parameters: Conservative for stability
#
# TECHNICAL IMPLEMENTATION:
# =========================
# 
# CONFIGURATION STRUCTURE:
# 1. Affiliate Address: Where fees are sent by the protocol
# 2. Claiming Address: Where fees are claimed by ShapeShift
# 3. Chain Configuration: RPC endpoints and scanning parameters
# 4. Performance Settings: Batch sizes, delays, and timeouts
#
# KEY TECHNOLOGIES:
# - YAML configuration format for human readability
# - Environment variable substitution for API keys
# - Alchemy RPC for reliable Base chain connection
# - Conservative scanning parameters for stability
#
# ERROR HANDLING STRATEGY:
# ========================
# 
# CONFIGURATION ERRORS:
# - Graceful fallbacks to default values
# - Warning messages for missing or invalid configurations
# - System continues operation with reduced functionality
# - Comprehensive logging for troubleshooting
#
# RPC CONNECTION ERRORS:
# - Automatic retry logic with exponential backoff
# - Fallback to alternative RPC providers if available
# - Connection health monitoring and alerting
# - Graceful degradation when RPC is unavailable
#
# PERFORMANCE CONSIDERATIONS:
# ==========================
# 
# SCANNING PARAMETERS:
# - Conservative batch sizes to avoid rate limiting
# - Appropriate delays between requests
# - Timeout settings for reliable operation
# - Progress tracking for long-running scans
#
# RPC OPTIMIZATION:
# - Use Alchemy for reliable Base chain connection
# - Implement connection pooling for efficiency
# - Monitor API usage to avoid hitting limits
# - Cache frequently accessed data
#
# DEVELOPMENT WORKFLOW:
# =====================
# 
# CONFIGURATION MANAGEMENT:
# - Version control all configuration changes
# - Document reasoning for each configuration update
# - Test configurations with real blockchain data
# - Validate affiliate addresses with transaction analysis
#
# TESTING APPROACH:
# - Test with real Relay protocol transactions
# - Validate affiliate address detection
# - Test error scenarios and recovery mechanisms
# - Performance testing with high-volume data
#
# DEPLOYMENT CONSIDERATIONS:
# - Environment variable management for API keys
# - Configuration validation before deployment
# - Monitoring and alerting for configuration issues
# - Backup and recovery procedures
#
# FUTURE IMPROVEMENTS:
# ====================
# 
# IMMEDIATE PRIORITIES:
# 1. Additional chain support beyond Base
# 2. Dynamic affiliate address discovery
# 3. Real-time configuration validation
# 4. Automated testing suite
#
# LONG-TERM GOALS:
# 1. Multi-chain affiliate address management
# 2. Protocol-specific configuration templates
# 3. Configuration versioning and rollback
# 4. Integration with protocol governance systems
#
# LESSONS FOR FUTURE DEVELOPERS:
# =============================
# 
# 1. VALIDATE ASSUMPTIONS: Test configurations with real data
# 2. DOCUMENT CHANGES: Explain why configuration updates were made
# 3. VERSION CONTROL: Track all configuration changes
# 4. TEST THOROUGHLY: Validate configurations before deployment
# 5. MONITOR PERFORMANCE: Watch for configuration-related issues
# 6. PLAN FOR FAILURE: Implement graceful degradation
# 7. SECURITY FIRST: Protect API keys and sensitive configuration
# 8. ITERATE GRADUALLY: Make small, tested changes
#
# CONTACT & SUPPORT:
# ==================
# 
# For questions about this configuration:
# - Check the troubleshooting section below
# - Review the commit history for specific changes
# - Examine the different branch approaches
# - Contact the development team with specific issues
#
# --- END OF COMPREHENSIVE DOCUMENTATION ---

# Affiliate Address Configuration
# =============================
# These addresses define where affiliate fees are sent and claimed
affiliate_address: "0x9c9aA90363630d4ab1D9dbF416cc3BBC8d3Ed502"
claiming_address: "0x9c9aA90363630d4ab1D9dbF416cc3BBC8d3Ed502" 